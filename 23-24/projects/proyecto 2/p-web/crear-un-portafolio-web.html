<!DOCTYPE html> <html><head>
		<title>Crear un Portafolio Web</title>
		<base href="./">
		<meta id="root-path" root-path="./">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Mi Portfolio Web - Crear un Portafolio Web">
		<meta property="og:title" content="Crear un Portafolio Web">
		<meta property="og:description" content="Mi Portfolio Web - Crear un Portafolio Web">
		<meta property="og:type" content="website">
		<meta property="og:url" content="crear-un-portafolio-web.html">
		<meta property="og:image" content="images/1.vault_ob.png">
		<meta property="og:site_name" content="Mi Portfolio Web">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Crear un Portafolio Web">Crear un Portafolio Web</h1><div class="heading-wrapper"><h2 data-heading="Objetivos de este proyecto" dir="auto" class="heading" id="Objetivos_de_este_proyecto"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Objetivos de este proyecto</h2><div class="heading-children"><div><p dir="auto">La razón de este proyecto era crear un repositorio en la red para los apuntes que fuera haciendo durante la carrera o tal vez un portafolio para proyectos propios, de manera que los tuviera siempre accesibles desde cualquier dispositivo.</p></div><div><p dir="auto">Pero... </p></div><div class="heading-wrapper"><h3 data-heading="¿Cómo lo podría hacer?" dir="auto" class="heading" id="¿Cómo_lo_podría_hacer?"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>¿Cómo lo podría hacer?</h3><div class="heading-children"><div><p dir="auto">En mi cabeza pensé en varías posibilidades, en la carrera más en concreto en el segundo año de esta, en la asignatura de Programación y Administración de Sistemas <code>"PAS"</code>, trabajamos servidores <code>http</code>  como <code>apache</code> y como configurar estos, sin embargo, </p></div></div></div><div class="heading-wrapper"><h3 data-heading="¿En qué dispositivo lo realizaría?." dir="auto" class="heading" id="¿En_qué_dispositivo_lo_realizaría?."><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>¿En qué dispositivo lo realizaría?.</h3><div class="heading-children"><div><p dir="auto">Tenerlo en el ordenador personal sería lo más cómodo ya que podría realizar las modificaciones que quisiera en poco tiempo, pero sería ineficiente ya que para poder ver el contenido de la web necesitaría que este estuviera encendido siempre y como está la luz hoy en día..., no era una opción viable, además no quiero tocar la configuración demasiado.</p></div><div><p dir="auto">Otra opción sería usar una máquina virtual, pero son muy lentas si están alojadas en la web (en concreto las que ofrece mi Universidad), me veía en un callejón sin salida.</p></div><div><p dir="auto">A no ser que a mi mente llegasen las palabras que un compañero de carrera y mejor amigo, el cuál hablaba sobre unos servidores totalmente gratuitos que ofrecía <code>Oracle</code>, tenía que probarlo, opción que descarte, debido a numerosos errores que no me dejaban lanzar la instancia, por lo que al final usaremos <code>AWS</code>.</p></div><div><p dir="auto">El concepto de este proyecto abarcará las siguientes Tecnologías:</p></div><div><ul>
<li data-line="0" dir="auto"><code>Obsidian</code> : Para la generación de <code>html</code>a partir de las notas.</li>
<li data-line="1" dir="auto"><code>Amazon Web Service (AWS)</code> : Utilizaremos las VM's de su servidor gratuito para tener una web accesible en cualquier momento.</li>
<li data-line="2" dir="auto"><code>No-Ip</code> : Para crear un dominio que nos represente.</li>
<li data-line="3" dir="auto"><code>Apache</code> : Servicio que nos proporcionará el protocolo <code>http</code> y posteriormente <code>https</code>.</li>
<li data-line="4" dir="auto"><code>Certbot</code> : Para la generación de certificados <code>SSL</code>.</li>
</ul></div><div><p dir="auto">Dedicaremos un capítulo a cada una de estas tecnologías y a su configuración.</p></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Configuración de Obsidian" dir="auto" class="heading" id="Configuración_de_Obsidian"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Configuración de Obsidian</h2><div class="heading-children"><div><p dir="auto">Esta es una configuración muy básica, deberemos crear nuestro <code>vault</code>donde tendremos nuestras notas.</p></div><div><p dir="auto"></p><div alt="Crear Vault" src="images/1.vault_ob.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Crear Vault" src="images/1.vault_ob.png"></div><p dir="auto"></p></div><div><p dir="auto">Una vez creado el repositorio de notas deberás instalar el plugin de comunidad <code>Webage HTML Export</code> para tus notas poder pasarlas a <code>html</code>.</p></div><div><p dir="auto">A partir de aquí es cosa del lector desarrollar el proyecto que quiera o la organizar como quiera sus notas.</p></div></div></div><div class="heading-wrapper"><h2 data-heading="Configuración de AWS" dir="auto" class="heading" id="Configuración_de_AWS"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Configuración de AWS</h2><div class="heading-children"><div><p dir="auto">Para acceder al servidor gratuito de <a data-tooltip-position="top" aria-label="https://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=DChcSEwiw9diimq6HAxVktWgJHRu4AQoYABAAGgJ3Zg&amp;ase=2&amp;gclid=CjwKCAjw1920BhA3EiwAJT3lSa6lMXuptsQuLg7GqYmsOmeSaUxkYzRbLRFxk8OO5YBZAPhStt8uvhoCUQsQAvD_BwE&amp;ohost=www.google.com&amp;cid=CAESVuD2etctdAo2H8zccPHR3jH_fefLLkd7CU89ofVfpHF2BK1duqZdyPDb3bEAH6VAItq2wluVVMC6lRWmu-d9mA5ph7TMajnBPqu4HVtVdabrq7YQo_r6&amp;sig=AOD64_1ht2uv5h3fgT2YWvKtIwBnOT62ow&amp;q&amp;nis=4&amp;adurl&amp;ved=2ahUKEwjtjdKimq6HAxUvR_EDHYlLB6AQ0Qx6BAgGEAE" rel="noopener" class="external-link" href="https://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=DChcSEwiw9diimq6HAxVktWgJHRu4AQoYABAAGgJ3Zg&amp;ase=2&amp;gclid=CjwKCAjw1920BhA3EiwAJT3lSa6lMXuptsQuLg7GqYmsOmeSaUxkYzRbLRFxk8OO5YBZAPhStt8uvhoCUQsQAvD_BwE&amp;ohost=www.google.com&amp;cid=CAESVuD2etctdAo2H8zccPHR3jH_fefLLkd7CU89ofVfpHF2BK1duqZdyPDb3bEAH6VAItq2wluVVMC6lRWmu-d9mA5ph7TMajnBPqu4HVtVdabrq7YQo_r6&amp;sig=AOD64_1ht2uv5h3fgT2YWvKtIwBnOT62ow&amp;q&amp;nis=4&amp;adurl&amp;ved=2ahUKEwjtjdKimq6HAxUvR_EDHYlLB6AQ0Qx6BAgGEAE" target="_blank"><code>AWS</code></a> con él enlace, deberás registrarte con tus datos personales.</p></div><div><p dir="auto">Cosas a tener en cuenta:</p></div><div><ul>
<li data-line="0" dir="auto">
<p>Un requisito para crear la cuenta es tener una tarjeta de crédito o débito registrada, no se asuste no se le cobrará nada, se usa como seguro de que la persona no es una entidad automática o en caso de superar alguna tasa, cosa que en este proyecto es improbable.</p>
</li>
<li data-line="2" dir="auto">
<p>Al meter tu tarjeta realmente si te cobra algo, 1€ como retención</p>
</li>
</ul></div><div><p dir="auto">Una vez finalizado podemos acceder al home.</p></div><div><p dir="auto"></p><div alt="Home de AWS" src="images/2.home_aws.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Home de AWS" src="images/2.home_aws.png"></div><p dir="auto"></p></div><div><p dir="auto">Para continuar en el buscador pondremos <code>EC2</code> y aquí configuraremos y crearemos la VM</p></div><div class="heading-wrapper"><h3 data-heading="Creando y Configurando mi VM con Oracle Cloud" dir="auto" class="heading" id="Creando_y_Configurando_mi_VM_con_Oracle_Cloud"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Creando y Configurando mi VM con Oracle Cloud</h3><div class="heading-children"><div><p dir="auto">Seleccionamos <code>Lanzar la instancia</code></p></div><div><p dir="auto"></p><div alt="3. Crear VM" src="images/3.createvm_aws.png" class="internal-embed media-embed image-embed is-loaded"><img alt="3. Crear VM" src="images/3.createvm_aws.png"></div><p dir="auto"></p></div><div><p dir="auto">Nos deberá salir la siguiente pantalla.</p></div><div><p dir="auto"></p><div alt="4.Panel AWS" src="images/4.configvm_aws.png" class="internal-embed media-embed image-embed is-loaded"><img alt="4.Panel AWS" src="images/4.configvm_aws.png"></div><p dir="auto"></p></div><div class="heading-wrapper"><h4 data-heading="Cambiar distribución de Linux para la VM" dir="auto" class="heading" id="Cambiar_distribución_de_Linux_para_la_VM"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Cambiar distribución de Linux para la VM</h4><div class="heading-children"><div><p dir="auto">Nombra la VM como prefieras, la imagen del SO que viene por defecto es de <code>Amazon Linux</code> recomiendo cambiarla ya que queremos una distribución basada en <code>debian</code> con los paquetes mínimos que necesitaremos para que funcione el servidor en la nube, asegurando que no se use más almacenamiento.</p></div><div><p dir="auto"></p><div alt="5. Seleccionar ISO" src="images/5.selectsoiso_aws.png" class="internal-embed media-embed image-embed is-loaded"><img alt="5. Seleccionar ISO" src="images/5.selectsoiso_aws.png"></div><p dir="auto"></p></div></div></div><div class="heading-wrapper"><h4 data-heading="Configuración SSH y llaves públicas y privadas" dir="auto" class="heading" id="Configuración_SSH_y_llaves_públicas_y_privadas"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Configuración SSH y llaves públicas y privadas</h4><div class="heading-children"><div><p dir="auto">Iremos a la siguiente sección y añadiremos nuestra clave <code>ssh</code> para poder acceder a nuestra máquina.</p></div><div><p dir="auto"></p><div alt="6. Crear par ssh" src="images/6.sshkey_aws.png" class="internal-embed media-embed image-embed is-loaded"><img alt="6. Crear par ssh" src="images/6.sshkey_aws.png"></div><p dir="auto"></p></div><div><p dir="auto">Si quieres obtener más información de este procedimiento accede al siguiente <a data-tooltip-position="top" aria-label="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html?icmpid=docs_ec2_console" rel="noopener" class="external-link" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html?icmpid=docs_ec2_console" target="_blank"><code>enlace</code></a></p></div><div><p dir="auto">Después de este paso se os descargará un documento con extensión <code>.pem</code> o la que hayáis elegido con este haremos la conexión.</p></div></div></div><div class="heading-wrapper"><h4 data-heading="Permisos de Acceso a la Red" dir="auto" class="heading" id="Permisos_de_Acceso_a_la_Red"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Permisos de Acceso a la Red</h4><div class="heading-children"><div><p dir="auto">En esta sección configuramos quienes y desde donde se pueden conectar a nuestra VM,<br>
recomiendo que inicialmente para la configuración sea solo nuestra ip local.</p></div><div><p dir="auto"></p><div alt="7. Configurar Red" src="images/7.confignet_aws.png" class="internal-embed media-embed image-embed is-loaded"><img alt="7. Configurar Red" src="images/7.confignet_aws.png"></div><br>
Las demás opciones déjelas por defecto, ya podría lanzar su VM.<p dir="auto"></p></div></div></div><div class="heading-wrapper"><h4 data-heading="Conexión a la instancia" dir="auto" class="heading" id="Conexión_a_la_instancia"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Conexión a la instancia</h4><div class="heading-children"><div><p dir="auto">Para obtener instrucciones claras de como conectarse a la máquina entre en el enlace que se encuentra en la casilla de en medio.</p></div><div><p dir="auto"></p><div alt="8. Conectar a VM" src="images/8.conect_aws.png" class="internal-embed media-embed image-embed is-loaded"><img alt="8. Conectar a VM" src="images/8.conect_aws.png"></div><p dir="auto"></p></div><div><p dir="auto">En resumidas cuentas los que debe hacer es lo siguiente.</p></div><div><p dir="auto">Dar permisor al .pem</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token function">chmod</span> <span class="token number">400</span> <span class="token string">"fichero.pem"</span>
<span class="token function">ssh</span> -i <span class="token string">"fichero.pem ubuntu-distro@ec2-vmip.region"</span> 
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">Una vez dentro de nuestra instancia, deberemos configurar desde cero, es un cascarón vacío que debemos completar a nuestro gusto.</p></div></div></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Primeros pasos con nuestra VM" dir="auto" class="heading" id="Primeros_pasos_con_nuestra_VM"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Primeros pasos con nuestra VM</h2><div class="heading-children"><div><p dir="auto">La instancia que se nos da esta completamente vacía, por lo que deberemos configurar.</p></div><div class="heading-wrapper"><h3 data-heading="Configuración General" dir="auto" class="heading" id="Configuración_General"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Configuración General</h3><div class="heading-children"><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment">#Actualizar SO</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> upgrade -y
</code><button class="copy-code-button">Copy</button></pre></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment">#Configuración del firewall</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y ufw 
<span class="token function">sudo</span> ufw allow <span class="token number">22</span>/tcp 
<span class="token function">sudo</span> ufw allow <span class="token number">80</span>/tcp 
<span class="token function">sudo</span> ufw allow <span class="token number">443</span>/tcp 
<span class="token function">sudo</span> ufw <span class="token builtin class-name">enable</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment"># Ayuda a proteger tu servidor para ataques de fuerza bruta </span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y fail2ban 
<span class="token function">sudo</span> systemctl start fail2ban 
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> fail2ban
</code><button class="copy-code-button">Copy</button></pre></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment">#htop es una herramienta indispensable para monitorear recursos</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">htop</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment">#Sistema de logs</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y rsyslog 
<span class="token function">sudo</span> systemctl start rsyslog 
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> rsyslog
</code><button class="copy-code-button">Copy</button></pre></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment">#Apache2 para el servicio http (Lo necesitaremos en este proyecto)</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y apache2 
<span class="token function">sudo</span> systemctl start apache2 
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> apache2
</code><button class="copy-code-button">Copy</button></pre></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment">#Configuración del swapping (En este caso 2G)</span>
<span class="token function">sudo</span> fallocate -l 2G /swapfile 
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> /swapfile 
<span class="token function">sudo</span> <span class="token function">mkswap</span> /swapfile 
<span class="token function">sudo</span> <span class="token function">swapon</span> /swapfile 
<span class="token builtin class-name">echo</span> <span class="token string">'/swapfile none swap sw 0 0'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/fstab
</code><button class="copy-code-button">Copy</button></pre></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment">#Herramientas que recomiendo tener para cualquier proyecto</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">git</span> <span class="token function">wget</span> <span class="token function">curl</span> <span class="token function">vim</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h3 data-heading="Copias de Seguridad" dir="auto" class="heading" id="Copias_de_Seguridad"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Copias de Seguridad</h3><div class="heading-children"><div><p dir="auto">Crearemos un script para realizar las copias de seguridad de manera automática.</p></div><div><p dir="auto"><strong>Contenido del script</strong></p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">tar</span> czf /backup/backup-<span class="token punctuation">\</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +<span class="token punctuation">\</span>%F<span class="token variable">)</span></span>.tar.gz /path/to/your/data
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto"><strong>Automatización</strong></p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token punctuation">(</span>crontab -l <span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"0 2 * * * <span class="token variable">$BACKUP_SCRIPT</span>"</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">crontab</span> -
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h3 data-heading="Script de Configuración Final" dir="auto" class="heading" id="Script_de_Configuración_Final"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Script de Configuración Final</h3><div class="heading-children"><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># Actualizar el sistema operativo</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> upgrade -y

<span class="token comment"># Instalar herramientas básicas</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y <span class="token function">git</span> <span class="token function">wget</span> <span class="token function">curl</span> <span class="token function">vim</span> ufw <span class="token function">htop</span> fail2ban build-essential

<span class="token comment"># Configurar el firewall UFW</span>
<span class="token function">sudo</span> ufw allow <span class="token number">22</span>/tcp
<span class="token function">sudo</span> ufw allow <span class="token number">80</span>/tcp
<span class="token function">sudo</span> ufw allow <span class="token number">443</span>/tcp
<span class="token function">sudo</span> ufw <span class="token builtin class-name">enable</span>

<span class="token comment"># Configurar Fail2Ban</span>
<span class="token function">sudo</span> systemctl start fail2ban
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> fail2ban

<span class="token comment"># Instalar y configurar Apache</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y apache2
<span class="token function">sudo</span> systemctl start apache2
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> apache2

<span class="token comment"># Configurar el registro de logs (rsyslog ya está instalado por defecto en Ubuntu)</span>
<span class="token function">sudo</span> systemctl start rsyslog
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> rsyslog

<span class="token comment"># Configurar swap (2GB en este ejemplo)</span>
<span class="token function">sudo</span> fallocate -l 2G /swapfile
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> /swapfile
<span class="token function">sudo</span> <span class="token function">mkswap</span> /swapfile
<span class="token function">sudo</span> <span class="token function">swapon</span> /swapfile
<span class="token builtin class-name">echo</span> <span class="token string">'/swapfile none swap sw 0 0'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/fstab

<span class="token comment"># Crear un directorio para backups (ajusta según tus necesidades)</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> -p /backup

<span class="token comment"># Configurar backup diario (ajusta el comando de backup según tus necesidades)</span>
<span class="token assign-left variable">BACKUP_SCRIPT</span><span class="token operator">=</span><span class="token string">"/usr/local/bin/backup-script.sh"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"#!/bin/bash"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token variable">$BACKUP_SCRIPT</span>
<span class="token builtin class-name">echo</span> <span class="token string">"tar czf /backup/backup-\<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +<span class="token punctuation">\</span>%F<span class="token variable">)</span></span>.tar.gz /home/<span class="token environment constant">$USER</span>"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a <span class="token variable">$BACKUP_SCRIPT</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> +x <span class="token variable">$BACKUP_SCRIPT</span>
<span class="token punctuation">(</span>crontab -l <span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"0 2 * * * <span class="token variable">$BACKUP_SCRIPT</span>"</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">crontab</span> -

<span class="token comment"># Optimizar el rendimiento deshabilitando servicios innecesarios (ejemplo)</span>
<span class="token comment"># sudo systemctl disable nombre_del_servicio</span>
<span class="token comment"># sudo systemctl stop nombre_del_servicio</span>

<span class="token comment"># Mensaje final</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Configuración completada con éxito."</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Creación de un dominio propio con No-Ip" dir="auto" class="heading" id="Creación_de_un_dominio_propio_con_No-Ip"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Creación de un dominio propio con No-Ip</h2><div class="heading-children"><div><p dir="auto">Si queremos tener un portafolio o nuestro proyecto web en condiciones, no queremos poder acceder a el con una burda ip, debe tener nuestra insignia algo con lo que la identifiquemos y los demás puedan reconocerla, para ello con <a data-tooltip-position="top" aria-label="https://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=DChcSEwjo6-DBuLWHAxXCQ0ECHQMiCMUYABAAGgJ3cw&amp;ase=2&amp;gclid=Cj0KCQjwwO20BhCJARIsAAnTIVS9D3mj4oAm2AwfupzAbW0iINdqR6UCYmA1WesMHPeBLpWD88ldiB0aAsm4EALw_wcB&amp;ohost=www.google.com&amp;cid=CAESVuD2XcCmcBmfbMCp4kBwxpiosFZKDaAJuW42bc6otDQXj842C2_peD3MxMj5_g-LvF7nueG4cg5B3kTVCyLd6MYjlWEDqQiTXsxGqLcduPpbY_EjFpNb&amp;sig=AOD64_19RX7nHRlqdQkrTQPT475ln8BJiA&amp;q&amp;nis=4&amp;adurl&amp;ved=2ahUKEwiXytrBuLWHAxX_Q6QEHR1kCb4Q0Qx6BAgMEAE" rel="noopener" class="external-link" href="https://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=DChcSEwjo6-DBuLWHAxXCQ0ECHQMiCMUYABAAGgJ3cw&amp;ase=2&amp;gclid=Cj0KCQjwwO20BhCJARIsAAnTIVS9D3mj4oAm2AwfupzAbW0iINdqR6UCYmA1WesMHPeBLpWD88ldiB0aAsm4EALw_wcB&amp;ohost=www.google.com&amp;cid=CAESVuD2XcCmcBmfbMCp4kBwxpiosFZKDaAJuW42bc6otDQXj842C2_peD3MxMj5_g-LvF7nueG4cg5B3kTVCyLd6MYjlWEDqQiTXsxGqLcduPpbY_EjFpNb&amp;sig=AOD64_19RX7nHRlqdQkrTQPT475ln8BJiA&amp;q&amp;nis=4&amp;adurl&amp;ved=2ahUKEwiXytrBuLWHAxX_Q6QEHR1kCb4Q0Qx6BAgMEAE" target="_blank"><code>no-ip</code></a> redirigiremos la salida de nuestro servidor a vía ip a través de nuestro dominio.</p></div><div><p dir="auto">Lógicamente lo primero que tenemos que hacer es crear una cuenta e iniciar sesión, es muy importante que no olvides ni el <code>email</code> ni la contraseña con la que creaste la cuenta, la necesitaremos más tarde.</p></div><div><p dir="auto">Una vez iniciemos sesión podremos crear nuestro dominio.</p></div><div><p dir="auto"></p><div alt="9. Home de No-IP" src="images/9.home_noip.png" class="internal-embed media-embed image-embed is-loaded"><img alt="9. Home de No-IP" src="images/9.home_noip.png"></div><p dir="auto"></p></div><div><p dir="auto">Crearemos el dominio o el nombre de host, dando el nombre y la extensión que queramos, además de la ip pública de nuestra máquina.</p></div><div><p dir="auto"></p><div alt="10. Crear nombre de Dominio" src="images/10.nombredominio_noip.png" class="internal-embed media-embed image-embed is-loaded"><img alt="10. Crear nombre de Dominio" src="images/10.nombredominio_noip.png"></div><p dir="auto"></p></div><div><p dir="auto">Ahora desde nuestra VM deberemos hacer lo siguiente:</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token builtin class-name">cd</span> /usr/local/src/
<span class="token function">sudo</span> <span class="token function">wget</span> http://www.no-ip.com/client/linux/noip-duc-linux.tar.gz
<span class="token function">sudo</span> <span class="token function">tar</span> xf noip-duc-linux.tar.gz
<span class="token builtin class-name">cd</span> noip-2.1.9-1/
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">Se nos pedirá el correo y contraseña con el que iniciamos sesión.</p></div><div><p dir="auto">Para terminar el proceso se te pedirá un intervalo de tiempo, déjalo por defecto que serán unos 30 minutos, después te solicitara si quieres correr algún script, pon que no <code>N</code></p></div><div><p dir="auto">Ahora configuraremos el cliente:</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token function">sudo</span> /usr/local/bin/noip2 -C
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">Si accedemos a este sitio web nos saldrá lo siguiente:</p></div><div><p dir="auto"></p><div alt="11. Página por defecto" src="images/11.default_noip.png" class="internal-embed media-embed image-embed is-loaded"><img alt="11. Página por defecto" src="images/11.default_noip.png"></div><p dir="auto"></p></div><div class="heading-wrapper"><h3 data-heading="Actualizar ip de la VM cuando la apaguemos" dir="auto" class="heading" id="Actualizar_ip_de_la_VM_cuando_la_apaguemos"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Actualizar ip de la VM cuando la apaguemos</h3><div class="heading-children"><div><p dir="auto">Ocurre lo siguiente, lógicamente habrá un momento en la VM la apaguemos, ya no la necesitemos tener encendida o simplemente no queramos, esto se lo debemos indicar a <code>no-ip</code>.</p></div><div><p dir="auto">Creamos un fichero para que cuando se arranque el sistema, <code>no-ip</code>conozca la ip donde esta alojado el dominio.</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/systemd/system/noip2.service
</code><button class="copy-code-button">Copy</button></pre></div><div><pre class="language-ini" tabindex="0"><code class="language-ini is-loaded"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Unit</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">Description</span><span class="token punctuation">=</span><span class="token value attr-value">No-IP Dynamic DNS Update Client</span>
<span class="token key attr-name">After</span><span class="token punctuation">=</span><span class="token value attr-value">network.target</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Service</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">Type</span><span class="token punctuation">=</span><span class="token value attr-value">forking</span>
<span class="token key attr-name">ExecStart</span><span class="token punctuation">=</span><span class="token value attr-value">/usr/local/bin/noip2</span>
<span class="token key attr-name">ExecStop</span><span class="token punctuation">=</span><span class="token value attr-value">/usr/local/bin/noip2 -K</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Install</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">WantedBy</span><span class="token punctuation">=</span><span class="token value attr-value">multi-user.target</span>

</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">Después de esto reiniciaremos los demonios en iniciaremos <code>no-ip</code>.</p></div><div><pre class="language-shell" tabindex="0"><code class="language-shell is-loaded"><span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> noip2
<span class="token function">sudo</span> systemctl start noip2
</code><button class="copy-code-button">Copy</button></pre></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Configuración de Apache" dir="auto" class="heading" id="Configuración_de_Apache"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Configuración de Apache</h2><div class="heading-children"><div><p dir="auto">En esta sección vamos a tratar varios puntos clave:</p></div><div><ul>
<li data-line="0" dir="auto">Fichero de configuración</li>
<li data-line="1" dir="auto">Configurar nuestro sitio</li>
<li data-line="2" dir="auto">Añadir las carpetas con los ficheros que queremos mostrar</li>
</ul></div><div><p dir="auto">Antes que nada comprobamos que <code>apache2</code> este funcionando correctamente con:</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token function">sudo</span> systemctl status apache2
</code><button class="copy-code-button">Copy</button></pre></div><div class="heading-wrapper"><h3 data-heading="Fichero de Configuración" dir="auto" class="heading" id="Fichero_de_Configuración"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Fichero de Configuración</h3><div class="heading-children"><div><p dir="auto">Recomiendo la siguiente configuración para el fichero <code>/etc/apache2/apache2.conf</code>,<br>
donde <code>mi_pagina_web</code> es la carpeta donde tenemos los ficheros que queremos mostrar, <code>ServerName</code>  el nombre del dominio que creamos antes, e <code>index.html</code> el fichero que queremos que se muestre primero.</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token comment"># This is the main Apache server configuration file. It contains the</span>
<span class="token comment"># configuration directives that give the server its instructions.</span>
<span class="token comment"># See http://httpd.apache.org/docs/2.4/ for detailed information about</span>
<span class="token comment"># the directives and /usr/share/doc/apache2/README.Debian about Debian specific</span>
<span class="token comment"># hints.</span>

<span class="token comment"># Global configuration</span>

ServerRoot <span class="token string">"/etc/apache2"</span>

<span class="token comment"># PidFile: The file in which the server should record its process</span>
<span class="token comment"># identification number when it starts.</span>
PidFile <span class="token variable">${APACHE_PID_FILE}</span>

Timeout <span class="token number">300</span>

KeepAlive On
MaxKeepAliveRequests <span class="token number">100</span>
KeepAliveTimeout <span class="token number">5</span>

User <span class="token variable">${APACHE_RUN_USER}</span>
Group <span class="token variable">${APACHE_RUN_GROUP}</span>

HostnameLookups Off
ErrorLog <span class="token variable">${APACHE_LOG_DIR}</span>/error.log
LogLevel warn

IncludeOptional mods-enabled/*.load
IncludeOptional mods-enabled/*.conf
Include ports.conf

<span class="token operator">&lt;</span>Directory /<span class="token operator">&gt;</span>
    Options FollowSymLinks
    AllowOverride None
    Require all denied
<span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>Directory /usr/share<span class="token operator">&gt;</span>
    AllowOverride None
    Require all granted
<span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>Directory /var/www/<span class="token operator">&gt;</span>
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
<span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>Directory /var/www/html<span class="token operator">&gt;</span>
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
<span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>Directory /var/www/html/mi_pagina_web<span class="token operator">&gt;</span>
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
<span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>VirtualHost *:8<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html/mi_pagina_web

    <span class="token operator">&lt;</span>Directory /var/www/html/mi_pagina_web<span class="token operator">&gt;</span>
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    <span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span>

    ErrorLog <span class="token variable">${APACHE_LOG_DIR}</span>/error.log
    CustomLog <span class="token variable">${APACHE_LOG_DIR}</span>/access.log combined
<span class="token operator">&lt;</span>/VirtualHost<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>FilesMatch <span class="token string">"^\.ht"</span><span class="token operator">&gt;</span>
    Require all denied
<span class="token operator">&lt;</span>/FilesMatch<span class="token operator">&gt;</span>

LogFormat <span class="token string">"%v:%p %h %l %u %t <span class="token entity" title="\&quot;">\"</span>%r<span class="token entity" title="\&quot;">\"</span> %&gt;s %O <span class="token entity" title="\&quot;">\"</span>%{Referer}i<span class="token entity" title="\&quot;">\"</span> <span class="token entity" title="\&quot;">\"</span>%{User-Agent}i<span class="token entity" title="\&quot;">\"</span>"</span> vhost_combined
LogFormat <span class="token string">"%h %l %u %t <span class="token entity" title="\&quot;">\"</span>%r<span class="token entity" title="\&quot;">\"</span> %&gt;s %O <span class="token entity" title="\&quot;">\"</span>%{Referer}i<span class="token entity" title="\&quot;">\"</span> <span class="token entity" title="\&quot;">\"</span>%{User-Agent}i<span class="token entity" title="\&quot;">\"</span>"</span> combined
LogFormat <span class="token string">"%h %l %u %t <span class="token entity" title="\&quot;">\"</span>%r<span class="token entity" title="\&quot;">\"</span> %&gt;s %O"</span> common
LogFormat <span class="token string">"%{Referer}i -&gt; %U"</span> referer
LogFormat <span class="token string">"%{User-agent}i"</span> agent

IncludeOptional conf-enabled/*.conf
IncludeOptional sites-enabled/*.conf

ServerName servidor_web

<span class="token operator">&lt;</span>IfModule dir_module<span class="token operator">&gt;</span>
    DirectoryIndex index.html
<span class="token operator">&lt;</span>/IfModule<span class="token operator">&gt;</span>

</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h3 data-heading="Configuración del sitio" dir="auto" class="heading" id="Configuración_del_sitio"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Configuración del sitio</h3><div class="heading-children"><div><p dir="auto">Para que se muestre nuestra página debemos configurar el sitio donde donde estás los ficheros que queremos que estén disponibles a ver, para ello crearemos el fichero de configuración&nbsp;<code>mi_sitio.conf</code></p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token function">touch</span> /etc/apache/sites-available/mi_sitio.conf
<span class="token function">sudo</span> a2ensite mi_sitio.conf
<span class="token function">sudo</span> systemctl reload apache2
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">Dentro de este fichero puedes poner lo siguiente</p></div><div><pre><code>&lt;VirtualHost *:80&gt;
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html/mi_pagina_web

    &lt;Directory /var/www/html/mi_pagina_web&gt;
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    &lt;/Directory&gt;

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h3 data-heading="Añadir mis ficheros locales a mi VM" dir="auto" class="heading" id="Añadir_mis_ficheros_locales_a_mi_VM"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Añadir mis ficheros locales a mi VM</h3><div class="heading-children"><div><p dir="auto">Ya que estamos abriendo sesión por <code>ssh</code> podemos pasar los ficheros o carpetas que ver en tu página web, podemos usar el comando <code>scp</code>.</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token function">scp</span> -i /ruta/a/la/clave_privada -r /home/localuser/proyecto usuario@servidor.com:/home/usuario/destino
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">Ahora reiniciaremos <code>apache2</code> y podremos ver nuestros ficheros con el protocolo <code>http</code>.</p></div></div></div></div></div><div class="heading-wrapper"><h2 data-heading="Configuración de Certbot y certificados SSL" dir="auto" class="heading" id="Configuración_de_Certbot_y_certificados_SSL"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Configuración de Certbot y certificados SSL</h2><div class="heading-children"><div><p dir="auto">Con esta sección terminamos la configuración de nuestro proyecto al añadir protocolo seguro a nuestra página web, esto es necesario ya que únicamente con el protocolo <code>http</code> pueden acceder fácilmente a nuestros datos.</p></div><div><p dir="auto">La configuración se da como sigue: </p></div><div><p dir="auto"><strong>Nota: Asegúrate que en <code>No-Ip</code> tiene la ip pública de la VM correctamente definida, en caso contrario no funcionara</strong></p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> certbot python3-certbot-apache -y
<span class="token function">sudo</span> certbot --apache -d tu-dominio.no-ip.org
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">Con el último comando se nos pedirá el nombre del dominio al que queremos añadir el protocolo seguro, un correo electrónico con el cual nos enviarán noticias y en algunos casos también el fichero del sitio donde queremos tener el certificado.</p></div><div><p dir="auto">Ahora reiniciamos y configuramos <code>certbot</code> para que se renueven los certificados.</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded"><span class="token function">sudo</span> systemctl restart apache2
<span class="token function">sudo</span> certbot renew --dry-run
</code><button class="copy-code-button">Copy</button></pre></div><div><p dir="auto">Una vez leída y comprendida esta página te recomiendo que visites:</p></div><div><p dir="auto"><a data-href="Scripts para ejecutar en la VM" href="scripts-para-ejecutar-en-la-vm.html" class="internal-link" target="_self" rel="noopener">Scripts para ejecutar en la VM</a></p></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="crear-un-portafolio-web.html#Crear un Portafolio Web"><div class="tree-item-contents heading-link" heading-name="Crear un Portafolio Web"><span class="tree-item-title">Crear un Portafolio Web</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="crear-un-portafolio-web.html#Objetivos_de_este_proyecto"><div class="tree-item-contents heading-link" heading-name="Objetivos de este proyecto"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Objetivos de este proyecto</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#¿Cómo_lo_podría_hacer?"><div class="tree-item-contents heading-link" heading-name="¿Cómo lo podría hacer?"><span class="tree-item-title">¿Cómo lo podría hacer?</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#¿En_qué_dispositivo_lo_realizaría?."><div class="tree-item-contents heading-link" heading-name="¿En qué dispositivo lo realizaría?."><span class="tree-item-title">¿En qué dispositivo lo realizaría?.</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="crear-un-portafolio-web.html#Configuración_de_Obsidian"><div class="tree-item-contents heading-link" heading-name="Configuración de Obsidian"><span class="tree-item-title">Configuración de Obsidian</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="crear-un-portafolio-web.html#Configuración_de_AWS"><div class="tree-item-contents heading-link" heading-name="Configuración de AWS"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Configuración de AWS</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#Creando_y_Configurando_mi_VM_con_Oracle_Cloud"><div class="tree-item-contents heading-link" heading-name="Creando y Configurando mi VM con Oracle Cloud"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Creando y Configurando mi VM con Oracle Cloud</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="crear-un-portafolio-web.html#Cambiar_distribución_de_Linux_para_la_VM"><div class="tree-item-contents heading-link" heading-name="Cambiar distribución de Linux para la VM"><span class="tree-item-title">Cambiar distribución de Linux para la VM</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="crear-un-portafolio-web.html#Configuración_SSH_y_llaves_públicas_y_privadas"><div class="tree-item-contents heading-link" heading-name="Configuración SSH y llaves públicas y privadas"><span class="tree-item-title">Configuración SSH y llaves públicas y privadas</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="crear-un-portafolio-web.html#Permisos_de_Acceso_a_la_Red"><div class="tree-item-contents heading-link" heading-name="Permisos de Acceso a la Red"><span class="tree-item-title">Permisos de Acceso a la Red</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="crear-un-portafolio-web.html#Conexión_a_la_instancia"><div class="tree-item-contents heading-link" heading-name="Conexión a la instancia"><span class="tree-item-title">Conexión a la instancia</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="crear-un-portafolio-web.html#Primeros_pasos_con_nuestra_VM"><div class="tree-item-contents heading-link" heading-name="Primeros pasos con nuestra VM"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Primeros pasos con nuestra VM</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#Configuración_General"><div class="tree-item-contents heading-link" heading-name="Configuración General"><span class="tree-item-title">Configuración General</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#Copias_de_Seguridad"><div class="tree-item-contents heading-link" heading-name="Copias de Seguridad"><span class="tree-item-title">Copias de Seguridad</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#Script_de_Configuración_Final"><div class="tree-item-contents heading-link" heading-name="Script de Configuración Final"><span class="tree-item-title">Script de Configuración Final</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="crear-un-portafolio-web.html#Creación_de_un_dominio_propio_con_No-Ip"><div class="tree-item-contents heading-link" heading-name="Creación de un dominio propio con No-Ip"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Creación de un dominio propio con No-Ip</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#Actualizar_ip_de_la_VM_cuando_la_apaguemos"><div class="tree-item-contents heading-link" heading-name="Actualizar ip de la VM cuando la apaguemos"><span class="tree-item-title">Actualizar ip de la VM cuando la apaguemos</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="crear-un-portafolio-web.html#Configuración_de_Apache"><div class="tree-item-contents heading-link" heading-name="Configuración de Apache"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Configuración de Apache</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#Fichero_de_Configuración"><div class="tree-item-contents heading-link" heading-name="Fichero de Configuración"><span class="tree-item-title">Fichero de Configuración</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#Configuración_del_sitio"><div class="tree-item-contents heading-link" heading-name="Configuración del sitio"><span class="tree-item-title">Configuración del sitio</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="crear-un-portafolio-web.html#Añadir_mis_ficheros_locales_a_mi_VM"><div class="tree-item-contents heading-link" heading-name="Añadir mis ficheros locales a mi VM"><span class="tree-item-title">Añadir mis ficheros locales a mi VM</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="crear-un-portafolio-web.html#Configuración_de_Certbot_y_certificados_SSL"><div class="tree-item-contents heading-link" heading-name="Configuración de Certbot y certificados SSL"><span class="tree-item-title">Configuración de Certbot y certificados SSL</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>